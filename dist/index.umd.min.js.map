{"version":3,"file":"index.umd.min.js","sources":["../src/helpers.js","../node_modules/vue-runtime-helpers/dist/index.mjs","../src/Img.vue","../src/index.js"],"sourcesContent":["export const sanitizedFilename = fileName => {\n  let newFileName = fileName\n  // remove old file endings\n  newFileName = newFileName.replace(/\\.[^/.]{2,4}$/, '')\n  // according to the rokka team only point and slash are not allowed\n  newFileName = newFileName.replace(/[.\\\\/]/g, '-')\n  return newFileName\n}\n\nexport const generalProps = {\n  alt: { type: String, default: null },\n  title: { type: String, default: null },\n  org: { type: String, default: '' },\n  stack: { type: String, default: 'dynamic' },\n  hash: { type: String, default: '' },\n  format: { type: String, default: 'jpg' },\n  filename: { type: String, default: 'image' },\n  srcAttribute: { type: String, default: 'src' },\n  srcAdditionalAttribute: { type: String, default: null },\n  srcsetAttribute: { type: String, default: 'srcset' },\n  operations: {\n    type: Array,\n    default: () => {\n      return []\n    }\n  },\n  options: {\n    type: Object,\n    default: () => {\n      return {}\n    }\n  },\n  variables: {\n    type: Object,\n    default: () => {\n      return {}\n    }\n  }\n}\n\n// from an object to the rokka notation\n// input\n//       resize: {\n//         width: 300,\n//       },\n//       crop: {\n//         height: 200\n//       }\n// output\n//       resize-width-300--crop-height-200\nexport const flattenObject = obj => {\n  const toReturn = []\n\n  Object.keys(obj).forEach(key => {\n    const val = obj[key]\n\n    // for objects we should do a recursion\n    if (typeof val === 'object') {\n      const flatObject = flattenObject(val)\n      for (const x in flatObject) {\n        if (!flatObject.hasOwnProperty(x)) continue\n\n        // are we itteration over a array or object\n        if (Array.isArray(flatObject)) {\n          toReturn.push(`${key}-${flatObject[x]}`)\n        } else {\n          toReturn.push(`${key}-${x}-${flatObject[x]}`)\n        }\n      }\n    } else {\n      toReturn.push(`${key}-${val}`)\n    }\n  })\n  return toReturn\n}\n\nexport const buildRokkaUrl = props => {\n  const {\n    org,\n    stack,\n    // operations,\n    variables,\n    options,\n    filename,\n    format,\n    hash\n  } = props\n\n  // let operationsStr = null\n  // if (operations && operations.length) {\n  //   operationsStr = operations\n  //     .reduce(operation => flattenObject(operation), [])\n  //     .join('--')\n  // }\n\n  const variablesStr = flattenObject({ v: variables }).join('--')\n  const optionsStr = flattenObject({ options }).join('--')\n\n  const url = [\n    `${org}.rokka.io/${stack}`,\n    // operationsStr,\n    variablesStr,\n    optionsStr,\n    hash,\n    `${sanitizedFilename(filename)}.${format}`\n  ].join('/').replace(/\\/{2,}/g, '/')\n\n  return 'https://' + url\n}\n\n// https://stackoverflow.com/questions/27936772/how-to-deep-merge-instead-of-shallow-merge\n\n/**\n * Simple object check.\n * @param item\n * @returns {boolean}\n */\nexport const isObject = item => {\n  return item && typeof item === 'object' && !Array.isArray(item)\n}\n\n/**\n * Deep merge two objects.\n * @param target\n * @param ...sources\n */\nexport const mergeDeep = (target, ...sources) => {\n  if (!sources.length) return target\n  const source = sources.shift()\n\n  if (isObject(target) && isObject(source)) {\n    for (const key in source) {\n      if (isObject(source[key])) {\n        if (!target[key]) Object.assign(target, { [key]: {} })\n        mergeDeep(target[key], source[key])\n      } else {\n        Object.assign(target, { [key]: source[key] })\n      }\n    }\n  }\n\n  return mergeDeep(target, ...sources)\n}\n\n// https://stackoverflow.com/questions/40712399/deep-merging-nested-arrays\nexport const mergeArraysDeep = (arr1, arr2) => {\n  const unique = arr1.concat(arr2).reduce((accumulator, item) => {\n    if (accumulator[item.name]) {\n      accumulator[item.name] = mergeDeep(accumulator[item.name], item)\n    } else {\n      accumulator[item.name] = item\n    }\n\n    return accumulator\n  }, {})\n\n  return Object.keys(unique).map(function(key) {\n    return unique[key]\n  })\n}\n\nexport const srcset = (item) => {\n  const currentPostfix = item.postfix\n  const currentOperations = item.operations\n  const currentOptions = item.options\n  const currentVariables = item.variables\n\n  const parrentPostfix = item.$parent.$props.postfix\n  const parrentOperations = item.$parent.$props.operations\n  const parrentOptions = item.$parent.$props.options\n  const parrentVariables = item.$parent.$props.variables\n\n  let maxItems = Math.max(\n    Array.isArray(currentPostfix) ? currentPostfix.length : 0,\n    Array.isArray(currentOperations) ? currentOperations.length : 0,\n    Array.isArray(currentOptions) ? currentOptions.length : 0,\n    Array.isArray(currentVariables) ? currentVariables.length : 0\n  )\n\n  if (item.$parent.$options._componentTag === 'rokka-picture') {\n    maxItems = Math.max(\n      maxItems,\n\n      Array.isArray(parrentPostfix) ? parrentPostfix.length : 0,\n      Array.isArray(parrentOperations) ? parrentOperations.length : 0,\n      Array.isArray(parrentOptions) ? parrentOptions.length : 0,\n      Array.isArray(parrentVariables) ? parrentVariables.length : 0\n    )\n  }\n  const srcset = []\n\n  for (let i = 0; i < maxItems; i++) {\n    // get the current props\n    // depending if passed a obj or an array\n    const postfix = Array.isArray(currentPostfix)\n      ? currentPostfix[i]\n      : currentPostfix\n    let operations =\n      Array.isArray(currentOperations) &&\n      Array.isArray(currentOperations[0])\n        ? currentOperations[i]\n        : currentOperations\n    let options = Array.isArray(currentOptions)\n      ? currentOptions[i]\n      : currentOptions\n    let variables = Array.isArray(currentVariables)\n      ? currentVariables[i]\n      : currentVariables\n\n    if (item.$parent.$options._componentTag === 'rokka-picture') {\n      // get the parent props\n      // depending if passed a obj or an array\n      const pOperations =\n        Array.isArray(parrentOperations) &&\n        Array.isArray(parrentOperations[0])\n          ? parrentOperations[i]\n          : parrentOperations\n      const pOptions = Array.isArray(parrentOptions)\n        ? parrentOptions[i]\n        : parrentOptions\n      const pVariables = Array.isArray(parrentVariables)\n        ? parrentVariables[i]\n        : parrentVariables\n\n      operations = mergeArraysDeep(pOperations, operations)\n      variables = mergeDeep(pVariables, variables)\n      options = mergeDeep(pOptions, options)\n    }\n\n    if (options instanceof  Array && options.length === 0) {\n      options = {}\n    }\n\n    let url = buildRokkaUrl({\n      ...item.$parent.$props,\n      ...item.$options.propsData,\n      operations,\n      variables,\n      options\n    })\n\n    url = encodeURI(url)  + (postfix ? ' ' + postfix : '')\n\n    srcset.push(url)\n  }\n  return srcset.join(', ')\n}\n","function normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\r\n    if (typeof shadowMode !== 'boolean') {\r\n        createInjectorSSR = createInjector;\r\n        createInjector = shadowMode;\r\n        shadowMode = false;\r\n    }\r\n    // Vue.extend constructor export interop.\r\n    const options = typeof script === 'function' ? script.options : script;\r\n    // render functions\r\n    if (template && template.render) {\r\n        options.render = template.render;\r\n        options.staticRenderFns = template.staticRenderFns;\r\n        options._compiled = true;\r\n        // functional template\r\n        if (isFunctionalTemplate) {\r\n            options.functional = true;\r\n        }\r\n    }\r\n    // scopedId\r\n    if (scopeId) {\r\n        options._scopeId = scopeId;\r\n    }\r\n    let hook;\r\n    if (moduleIdentifier) {\r\n        // server build\r\n        hook = function (context) {\r\n            // 2.3 injection\r\n            context =\r\n                context || // cached call\r\n                    (this.$vnode && this.$vnode.ssrContext) || // stateful\r\n                    (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\r\n            // 2.2 with runInNewContext: true\r\n            if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\r\n                context = __VUE_SSR_CONTEXT__;\r\n            }\r\n            // inject component styles\r\n            if (style) {\r\n                style.call(this, createInjectorSSR(context));\r\n            }\r\n            // register component module identifier for async chunk inference\r\n            if (context && context._registeredComponents) {\r\n                context._registeredComponents.add(moduleIdentifier);\r\n            }\r\n        };\r\n        // used by ssr in case component is cached and beforeCreate\r\n        // never gets called\r\n        options._ssrRegister = hook;\r\n    }\r\n    else if (style) {\r\n        hook = shadowMode\r\n            ? function (context) {\r\n                style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot));\r\n            }\r\n            : function (context) {\r\n                style.call(this, createInjector(context));\r\n            };\r\n    }\r\n    if (hook) {\r\n        if (options.functional) {\r\n            // register for functional component in vue file\r\n            const originalRender = options.render;\r\n            options.render = function renderWithStyleInjection(h, context) {\r\n                hook.call(context);\r\n                return originalRender(h, context);\r\n            };\r\n        }\r\n        else {\r\n            // inject component registration as beforeCreate hook\r\n            const existing = options.beforeCreate;\r\n            options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\r\n        }\r\n    }\r\n    return script;\r\n}\n\nconst isOldIE = typeof navigator !== 'undefined' &&\r\n    /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\r\nfunction createInjector(context) {\r\n    return (id, style) => addStyle(id, style);\r\n}\r\nlet HEAD;\r\nconst styles = {};\r\nfunction addStyle(id, css) {\r\n    const group = isOldIE ? css.media || 'default' : id;\r\n    const style = styles[group] || (styles[group] = { ids: new Set(), styles: [] });\r\n    if (!style.ids.has(id)) {\r\n        style.ids.add(id);\r\n        let code = css.source;\r\n        if (css.map) {\r\n            // https://developer.chrome.com/devtools/docs/javascript-debugging\r\n            // this makes source maps inside style tags work properly in Chrome\r\n            code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */';\r\n            // http://stackoverflow.com/a/26603875\r\n            code +=\r\n                '\\n/*# sourceMappingURL=data:application/json;base64,' +\r\n                    btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\r\n                    ' */';\r\n        }\r\n        if (!style.element) {\r\n            style.element = document.createElement('style');\r\n            style.element.type = 'text/css';\r\n            if (css.media)\r\n                style.element.setAttribute('media', css.media);\r\n            if (HEAD === undefined) {\r\n                HEAD = document.head || document.getElementsByTagName('head')[0];\r\n            }\r\n            HEAD.appendChild(style.element);\r\n        }\r\n        if ('styleSheet' in style.element) {\r\n            style.styles.push(code);\r\n            style.element.styleSheet.cssText = style.styles\r\n                .filter(Boolean)\r\n                .join('\\n');\r\n        }\r\n        else {\r\n            const index = style.ids.size - 1;\r\n            const textNode = document.createTextNode(code);\r\n            const nodes = style.element.childNodes;\r\n            if (nodes[index])\r\n                style.element.removeChild(nodes[index]);\r\n            if (nodes.length)\r\n                style.element.insertBefore(textNode, nodes[index]);\r\n            else\r\n                style.element.appendChild(textNode);\r\n        }\r\n    }\r\n}\n\nfunction createInjectorSSR(context) {\r\n    if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\r\n        context = __VUE_SSR_CONTEXT__;\r\n    }\r\n    if (!context)\r\n        return () => { };\r\n    if (!('styles' in context)) {\r\n        context._styles = context._styles || {};\r\n        Object.defineProperty(context, 'styles', {\r\n            enumerable: true,\r\n            get: () => context._renderStyles(context._styles)\r\n        });\r\n        context._renderStyles = context._renderStyles || renderStyles;\r\n    }\r\n    return (id, style) => addStyle$1(id, style, context);\r\n}\r\nfunction addStyle$1(id, css, context) {\r\n    const group = process.env.NODE_ENV === 'production' ? css.media || 'default' : id;\r\n    const style = context._styles[group] || (context._styles[group] = { ids: [], css: '' });\r\n    if (!style.ids.includes(id)) {\r\n        style.media = css.media;\r\n        style.ids.push(id);\r\n        let code = css.source;\r\n        if (process.env.NODE_ENV !== 'production' && css.map) {\r\n            // https://developer.chrome.com/devtools/docs/javascript-debugging\r\n            // this makes source maps inside style tags work properly in Chrome\r\n            code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */';\r\n            // http://stackoverflow.com/a/26603875\r\n            code +=\r\n                '\\n/*# sourceMappingURL=data:application/json;base64,' +\r\n                    Buffer.from(unescape(encodeURIComponent(JSON.stringify(css.map)))).toString('base64') +\r\n                    ' */';\r\n        }\r\n        style.css += code + '\\n';\r\n    }\r\n}\r\nfunction renderStyles(styles) {\r\n    let css = '';\r\n    for (const key in styles) {\r\n        const style = styles[key];\r\n        css +=\r\n            '<style data-vue-ssr-id=\"' +\r\n                Array.from(style.ids).join(' ') +\r\n                '\"' +\r\n                (style.media ? ' media=\"' + style.media + '\"' : '') +\r\n                '>' +\r\n                style.css +\r\n                '</style>';\r\n    }\r\n    return css;\r\n}\n\nfunction createInjector$1(context, shadowRoot) {\r\n    return (id, style) => addStyle$2(style, shadowRoot);\r\n}\r\nfunction createStyleElement(shadowRoot) {\r\n    var styleElement = document.createElement('style');\r\n    styleElement.type = 'text/css';\r\n    shadowRoot.appendChild(styleElement);\r\n    return styleElement;\r\n}\r\nfunction addStyle$2(css, shadowRoot) {\r\n    const styleElement = createStyleElement(shadowRoot);\r\n    if (css.media)\r\n        styleElement.setAttribute('media', css.media);\r\n    if ('styleSheet' in styleElement) {\r\n        styleElement.styleSheet.cssText = css.source;\r\n    }\r\n    else {\r\n        while (styleElement.firstChild) {\r\n            styleElement.removeChild(styleElement.firstChild);\r\n        }\r\n        styleElement.appendChild(document.createTextNode(css.source));\r\n    }\r\n}\n\nexport { normalizeComponent, createInjector, createInjectorSSR, createInjector$1 as createInjectorShadow };\n//# sourceMappingURL=index.mjs.map\n","<template>\n  <img\n    :[srcAttribute]=\"rokkaSrc\"\n    :[srcsetAttribute]=\"rokkaSrcset\"\n    :[srcAdditionalAttribute]=\"srcAdditionalComputed\"\n    :alt=\"alt\"\n    :title=\"title\"\n    :class=\"'rokka--attr-' + srcAttribute\"\n  />\n</template>\n\n<script>\nimport {\n  generalProps,\n  buildRokkaUrl,\n  mergeDeep,\n  mergeArraysDeep,\n  srcset,\n} from './helpers'\n\nexport default {\n  props: {\n    ...generalProps,\n    postfix: {\n      type: [Object, Array],\n      default: () => {\n        return []\n      }\n    },\n    options: {\n      type: [Object, Array],\n      default: () => {\n        return []\n      }\n    },\n    srcAdditional: {\n      type: String,\n      default: null\n    }\n  },\n\n  computed: {\n    // returns srcAdditional if set, otherwise the link to the rokka URL\n    // Is useful, when you want to set \"src\" to a loading image, which then later gets replaced\n    // by a lazy loader and data-src(set)\n    srcAdditionalComputed() {\n      return  this.srcAdditionalAttribute ? (this.srcAdditional ? this.srcAdditional : this.rokkaSrc) : null;\n    },\n    rokkaSrcset() {\n      return srcset(this)\n    },\n    rokkaSrc() {\n      const currentOperations = this.operations\n      const currentOptions = this.options\n      const currentVariables = this.variables\n\n      const parrentOperations = this.$parent.$props.operations\n      const parrentOptions = this.$parent.$props.options\n      const parrentVariables = this.$parent.$props.variables\n\n      // get the current props\n      // depending if passed a obj or an array\n      let operations =\n        Array.isArray(currentOperations) && Array.isArray(currentOperations[0])\n          ? (currentOperations[0] || {})\n          : currentOperations\n      let options = Array.isArray(currentOptions)\n        ? (currentOptions[0] || {})\n        : currentOptions\n      let variables = Array.isArray(currentVariables)\n        ? (currentVariables[0] || {})\n        : currentVariables\n\n      let currentProps = this.$props\n      if (this.$parent.$options._componentTag === 'rokka-picture') {\n        // get the parent props\n        // depending if passed a obj or an array\n        const pOperations =\n          Array.isArray(parrentOperations) &&\n          Array.isArray(parrentOperations[0])\n            ? parrentOperations[0]\n            : parrentOperations\n        const pOptions = Array.isArray(parrentOptions)\n          ? parrentOptions[0]\n          : parrentOptions\n        const pVariables = Array.isArray(parrentVariables)\n          ? parrentVariables[0]\n          : parrentVariables\n\n        operations = mergeArraysDeep(pOperations, operations)\n        variables = mergeDeep(pVariables, variables)\n        options = mergeDeep(pOptions, options)\n        //we have the default props already from the parent in this case, so just use the added ones\n        currentProps = this.$options.propsData\n      }\n\n      const url = buildRokkaUrl({\n        ...this.$parent.$props,\n        ...currentProps,\n        operations,\n        variables,\n        options\n      })\n\n      return url\n    }\n  }\n}\n</script>\n","import RokkaImageImg from \"./Img.vue\";\nimport RokkaImagePicture from \"./Picture.vue\";\nimport RokkaImageSource from \"./Source.vue\"\nimport {buildRokkaUrl} from \"./helpers\"\n\nexport {\n  RokkaImageImg,\n  RokkaImagePicture,\n  RokkaImageSource,\n  buildRokkaUrl\n}\n\nexport default {\n  install(Vue, options) {\n    // Let's register our component globally\n    // https://vuejs.org/v2/guide/components-registration.html\n    Vue.component(\"rokka-image-img\", RokkaImageImg);\n    Vue.component(\"rokka-image-picture\", RokkaImagePicture);\n    Vue.component(\"rokka-image-source\", RokkaImageSource);\n\n  }\n};"],"names":["generalProps","alt","type","String","title","org","stack","hash","format","filename","srcAttribute","srcAdditionalAttribute","srcsetAttribute","operations","Array","options","Object","variables","flattenObject","obj","toReturn","keys","forEach","key","val","_typeof","flatObject","x","hasOwnProperty","isArray","push","buildRokkaUrl","props","fileName","newFileName","variablesStr","v","join","optionsStr","replace","isObject","item","mergeDeep","target","sources","length","source","shift","assign","mergeArraysDeep","arr1","arr2","unique","concat","reduce","accumulator","name","map","srcset","currentPostfix","postfix","currentOperations","currentOptions","currentVariables","parrentPostfix","$parent","$props","parrentOperations","parrentOptions","parrentVariables","maxItems","Math","max","$options","_componentTag","i","pOperations","pOptions","pVariables","url","propsData","encodeURI","normalizeComponent","template","style","script","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","hook","render","staticRenderFns","_compiled","functional","_scopeId","context","this","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","shadowRoot","originalRender","h","existing","beforeCreate","navigator","test","userAgent","toLowerCase","install","Vue","component","RokkaImageImg","RokkaImagePicture","RokkaImageSource"],"mappings":"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"}